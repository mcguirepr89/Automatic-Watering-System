---


---

<blockquote>
<p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
</blockquote>
<h1 id="patrick-mcguires-first-good-thing">Patrick McGuire’s first good thing</h1>
<p>This is my first attempt at documenting my tinkering. This project was inspired by and made for my best friend, Jerry Vance. He’s the inspiration, generation, and motivation to get this done. Many thanks to Susan Mackey for her help in making this possible…</p>
<ul>
<li>Arduino Nano</li>
<li>OLED Display (module)</li>
<li>Rotary Encoder (no module)</li>
<li>5v Relay Switch (module)</li>
<li>5v Water Pump (just a pump)</li>
<li>Soil Sensor (no module)</li>
</ul>
<p>The basic idea is that this is a soil sensor that will show you soil saturation. If you set the watering trigger, the system will power on a water pump that will water the soil that is being measure with the sensor. This feedback loop will allow you to keep soil at a moisture level set by the watering trigger.</p>
<h1 id="assembly-and-schematics">Assembly and Schematics</h1>
<ul>
<li>The OLED is defined as I2C, so the data and clock are connected to the A4 and A5 analog pins, respectively.</li>
<li>The Rotary Encoder’s A and B pins are hooked up to the D8 and D2 digital pins, respectively. The C and E pins are grounded and the D pin is not in use (it controls the push button switch portion of the encoder).</li>
<li>The Relay’s signal is read from the D7 digital pin.</li>
<li>The soil sensor is a homemade slice of the pie. Basically, there are two soil probes that will go into the soil about 1" apart about 2" into the soil. One of the probes is hooked directly to the +5v power rail. The other probe is hooked up to the A1 analog pin AND has a path to ground that is resisted with 10K Ohms.</li>
</ul>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-7nsKFd7qvmLgKmqN" width="100%" style="max-width: 622.3546905517578px;" viewBox="0 0 622.3546905517578 521.4351577758789"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M54.58113083688552,393.7548121170393L95.796875,287.46757888793945L120.796875,287.46757888793945" marker-end="url(#arrowhead30510)" style="fill:none"></path><defs><marker id="arrowhead30510" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M593.6411070147066,287.46757888793945L545.2765655517578,525.4351577758789L465.3414077758789,525.4351577758789L374.6796875,525.4351577758789L274.9375,525.4351577758789L185.921875,525.4351577758789L140.859375,525.4351577758789L95.796875,525.4351577758789L56.13879412542332,440.4509212218333" marker-end="url(#arrowhead30511)" style="fill:none"></path><defs><marker id="arrowhead30511" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M145.0989453541331,264.46757888793945L185.921875,43L245.96875,43" marker-end="url(#arrowhead30512)" style="fill:none"></path><defs><marker id="arrowhead30512" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M148.23785698285553,264.46757888793945L185.921875,147L243.71875,147" marker-end="url(#arrowhead30513)" style="fill:none"></path><defs><marker id="arrowhead30513" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M160.921875,287.46757888793945L185.921875,287.46757888793945L210.921875,287.46757888793945" marker-end="url(#arrowhead30514)" style="fill:none"></path><defs><marker id="arrowhead30514" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M150.73325711655784,310.46757888793945L185.921875,392.4351577758789L274.9375,392.4351577758789L374.6796875,392.4351577758789L434.45062390823176,348.4795301582318" marker-end="url(#arrowhead30515)" style="fill:none"></path><defs><marker id="arrowhead30515" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M146.61839841079646,310.46757888793945L185.921875,467.4351577758789L229.5078125,467.4351577758789" marker-end="url(#arrowhead30516)" style="fill:none"></path><defs><marker id="arrowhead30516" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M303.90625,40.095637189629514L374.6796875,33L465.3414077758789,33L545.2765655517578,33L593.0453502730691,241.46757888793945" marker-end="url(#arrowhead30517)" style="fill:none"></path><defs><marker id="arrowhead30517" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M306.15625,131.97626693820004L374.6796875,99L465.3414077758789,99L545.2765655517578,99L590.9431962696614,241.46757888793945" marker-end="url(#arrowhead30518)" style="fill:none"></path><defs><marker id="arrowhead30518" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M312.2591312404671,264.46757888793945L374.6796875,226L465.3414077758789,226L545.2765655517578,226L570.2765655517578,244.1317207897196" marker-end="url(#arrowhead30519)" style="fill:none"></path><defs><marker id="arrowhead30519" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M520.7765609741209,324.93515777587896L545.2765655517578,324.4351577758789L577.9729952471284,287.46757888793945" marker-end="url(#arrowhead30520)" style="fill:none"></path><defs><marker id="arrowhead30520" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M320.3671875,458.09799947714L374.6796875,446.9351577758789L465.3414077758789,446.9351577758789L545.2765655517578,446.9351577758789L591.63006536202,287.46757888793945" marker-end="url(#arrowhead30521)" style="fill:none"></path><defs><marker id="arrowhead30521" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M303.90625,49.68003446385212L374.6796875,66L451.5745484624353,284.2668577875648" marker-end="url(#arrowhead30522)" style="fill:none"></path><defs><marker id="arrowhead30522" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M306.15625,147L374.6796875,147L447.26410809928484,288.5772981507153" marker-end="url(#arrowhead30523)" style="fill:none"></path><defs><marker id="arrowhead30523" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M306.15625,161.39774418422496L374.6796875,193L443.4164367919728,292.4249694580273" marker-end="url(#arrowhead30524)" style="fill:none"></path><defs><marker id="arrowhead30524" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M338.953125,291.93944709564494L374.6796875,294.4351577758789L424.5647208983883,311.2766853516118" marker-end="url(#arrowhead30525)" style="fill:none"></path><defs><marker id="arrowhead30525" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M318.24833958648435,310.46757888793945L374.6796875,340.4351577758789L419.14690710246794,333.17581335246797" marker-end="url(#arrowhead30526)" style="fill:none"></path><defs><marker id="arrowhead30526" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M320.3671875,473.12854698242705L374.6796875,479.9351577758789L445.60870967941037,359.6376159294104" marker-end="url(#arrowhead30527)" style="fill:none"></path><defs><marker id="arrowhead30527" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(274.9375,392.4351577758789)" style="opacity: 1;"><g transform="translate(-11.8046875,-13)" class="label"><foreignObject width="23.609375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Vin</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(374.6796875,66)" style="opacity: 1;"><g transform="translate(-10.7265625,-13)" class="label"><foreignObject width="21.453125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">D7</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(374.6796875,147)" style="opacity: 1;"><g transform="translate(-10.0625,-13)" class="label"><foreignObject width="20.125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">A4</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(374.6796875,193)" style="opacity: 1;"><g transform="translate(-10.0625,-13)" class="label"><foreignObject width="20.125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">A5</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(374.6796875,294.4351577758789)" style="opacity: 1;"><g transform="translate(-10.7265625,-13)" class="label"><foreignObject width="21.453125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">D2</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(374.6796875,340.4351577758789)" style="opacity: 1;"><g transform="translate(-10.7265625,-13)" class="label"><foreignObject width="21.453125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">D8</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(374.6796875,479.9351577758789)" style="opacity: 1;"><g transform="translate(-10.0625,-13)" class="label"><foreignObject width="20.125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">A1</span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="G" transform="translate(45.3984375,417.4351577758789)" style="opacity: 1;"><circle x="-25.3984375" y="-23" r="25.3984375"></circle><g class="label" transform="translate(0,0)"><g transform="translate(-15.3984375,-13)"><foreignObject width="30.796875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">USB</div></foreignObject></g></g></g><g class="node" id="E" transform="translate(140.859375,287.46757888793945)" style="opacity: 1;"><rect rx="5" ry="5" x="-20.0625" y="-23" width="40.125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-10.0625,-13)"><foreignObject width="20.125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">5V</div></foreignObject></g></g></g><g class="node" id="F" transform="translate(598.3156280517578,264.46757888793945)" style="opacity: 1;"><rect rx="5" ry="5" x="-28.0390625" y="-23" width="56.078125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-18.0390625,-13)"><foreignObject width="36.078125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">GND</div></foreignObject></g></g></g><g class="node" id="A" transform="translate(274.9375,43)" style="opacity: 1;"><rect rx="0" ry="0" x="-28.96875" y="-23" width="57.9375" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-18.96875,-13)"><foreignObject width="37.9375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Relay</div></foreignObject></g></g></g><g class="node" id="B" transform="translate(274.9375,147)" style="opacity: 1;"><rect rx="0" ry="0" x="-31.21875" y="-23" width="62.4375" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-21.21875,-13)"><foreignObject width="42.4375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">OLED</div></foreignObject></g></g></g><g class="node" id="C" transform="translate(274.9375,287.46757888793945)" style="opacity: 1;"><rect rx="0" ry="0" x="-64.015625" y="-23" width="128.03125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-54.015625,-13)"><foreignObject width="108.03125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Rotary Encoder</div></foreignObject></g></g></g><g class="node" id="D" transform="translate(465.3414077758789,324.4351577758789)" style="opacity: 1;"><polygon points="54.93515625,0 109.8703125,-54.93515625 54.93515625,-109.8703125 0,-54.93515625" rx="5" ry="5" transform="translate(-54.93515625,54.93515625)"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-28.0390625,-13)"><foreignObject width="56.078125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Arduino</div></foreignObject></g></g></g><g class="node" id="H" transform="translate(274.9375,467.4351577758789)" style="opacity: 1;"><rect rx="0" ry="0" x="-45.4296875" y="-23" width="90.859375" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-35.4296875,-13)"><foreignObject width="70.859375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Soil Probe</div></foreignObject></g></g></g></g></g></g></svg></div>

